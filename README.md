# Importing Human1 data

## Table of Contents

1. [About the Dataset](#about-the-dataset)
    1. [Download URL](#download-url)
    2. [Database Overview](#database-overview)
    3. [Schema Overview](#schema-overview)
    4. [Notes and Caveats](#notes-and-caveats)
    5. [License](#license)
2. [About the Import](#about-the-import)
    1. [Artifacts](#artifacts)
    2. [Import Procedure](#import-procedure)
    3. [Test](#test)
    
    
## About The Dataset

### Download URL

The input tsv files were obtained from [this repository](https://github.com/paul-shannon/bio-gdb/tree/main/forSam/v1). The tsv files were generated by extracting data from [Human-Gem.xml](https://github.com/SysBioChalmers/Human-GEM/blob/master/model/Human-GEM.xml) file in this [Human-GEM repository](https://github.com/SysBioChalmers/Human-GEM). An interactive web portal for viewing Human1 can be found [here](https://metabolicatlas.org/)

### Database Overview 

This directory stores scripts and data for generating csv files which can be combined with the provided tMCF and MCF files to ingest Human1 data to Data Commons knowledge graph. 

#### Data files <br>

* Entities:

|File| Description|
---------|-----------
|genes.tsv| containing information about genes|
|metabolites.tsv| containing informaion about metabolites|
|reactions.tsv| containing information about reactions|
|groups.tsv| containing information about metabolites classification/metabolic subsytems|

* Relationships:

|File| Description|
---------|-----------
|geneRoles.tsv| indicating relationships between gene and reactions|
|reactantRoles.tsv| indicating relationships between reactions and their reatants|
|productRoles.tsv| inicating relationships between reactions and their products|
|groupMemberships.tsv| indicating relationships between reations and the subsystems they belong to|

#### Scripts
|File| Description|
---------|-----------
|format_genes.py |genes.tsv -> genes.csv|
|format_metabolites.py| metabolites.tsv -> metabolites.csv|
|format_reactions.py| reactions.tsv -> reactions.csv|
|format_groups.py| groups.tsv -> groups.csv|
|format_geneRoles.py| geneRoles.tsv -> geneRoles.csv|
|format_reactantRoles.py| reactantRoles.tsv -> reactantRoles.csv|
|format_productRoles.py| productRoles.tsv -> productRoles.csv|
|format_groupMemberships.py| groupMemberships.tsv -> groupMemberships.csv|

##### tMCF files
|File| Description|
---------|-----------
|genes.tmcf| combine with genes.csv for ingestion  |
|metabolites.tmcf| combine with metabolites.csv for ingestion  |
|reactions.tmcf| combine with reactions.csv for ingestion  |
|groups.tmcf| combine with groups.csv for ingestion  |
|geneRoles.tmcf| combine with geneRoles.csv for ingestion  |
|reactantRoles.tmcf| combine with reactantRoles.csv for ingestion  |
|productRoles.tmcf| combine with productRoles.csv for ingestion  |
|groupMemberships.tmcf| combine with groupMemberships.csv for ingestion  |

### Schema Overview 

Human1 data contains information about the relationships between metabolites, reactions, metabolic subsystems, and proteins/genes involved in reations. 

The gene.tsv file provides information about systems biology ontology term. This new property is in [systemsBiologyOntology.mcf](https://github.com/khoahoang1891999/ISB_project/blob/main/MCF%20files/systemsBiologyOntologyTerm.mcf) <br>
A new class of Metabolite and its associated properties are defined in [Metabolite.mcf](https://github.com/khoahoang1891999/ISB_project/blob/main/MCF%20files/Metabolite.mcf) and [CellularCompartmentEnum.mcf](https://github.com/khoahoang1891999/ISB_project/blob/main/MCF%20files/CellularCompartmentEnum.mcf) <br>
A new class of Reaction and its associated properties are defined in [Reaction.mcf](https://github.com/khoahoang1891999/ISB_project/blob/main/MCF%20files/Reaction.mcf)<br>
A new class of MetabolicReactionSubsystem and its associated properties are defined in [MetabolicReactionSubsystems.mcf](https://github.com/khoahoang1891999/ISB_project/blob/main/MCF%20files/MetabolicReactionSubsystem.mcf) and [HierachyTypeEnum.mcf](https://github.com/khoahoang1891999/ISB_project/blob/main/MCF%20files/HierachyTypeEnum.mcf) <br>
Relationship between genes and reactions is defined in [geneRole.mcf](https://github.com/khoahoang1891999/ISB_project/blob/main/MCF%20files/geneRole.mcf). <br> 
Relationship between metabolites and reactions are defined in [productMetabolite.mcf](https://github.com/khoahoang1891999/ISB_project/blob/main/MCF%20files/productMetabolite.mcf) and [reactantMetabolite.mcf](https://github.com/khoahoang1891999/ISB_project/blob/main/MCF%20files/reactantMetabolite.mcf). <br>
Relationship between reactions and metabolic subsystems is defined in [memberOfMetabolicReactionSubsystem.mcf](https://github.com/khoahoang1891999/ISB_project/blob/main/MCF%20files/memberOfMetabolicReactionSubsystem.mcf)

### Notes and Caveats

Several gene symbols were not abled to map to existing Gene dcid on Data Commons knowledge graph. Specifically, NTAQ1 couldn't be found on GenomeAssembly hg38. NTAQ1, Z83844.1, AC011462.1, AL845331.1, AC022400.5, AP000812.4, AC093512.2, AL160260.1 couldn't be found on GenomeAssembly hg19. <br>

8 metabolites are metabolite classes, in which case humanGEMIDs are used as dcid <br>

### License

Information about License can be found [here](https://github.com/SysBioChalmers/Human-GEM/blob/master/LICENSE.md)

## About the Import 
### 

